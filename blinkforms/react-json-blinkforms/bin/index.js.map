{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"tslib\"","webpack:///external \"react-hot-loader\"","webpack:///external \"styled-components\"","webpack:///../typescript-core/dist/index.es.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./renderers/utils/WithDescription.tsx","webpack:///./renderers/utils/WithErrors.tsx","webpack:///./renderers/utils/WithMargins.tsx","webpack:///./renderers/defaultReactHandlerProvider.tsx","webpack:///./renderers/ObjectDefault.tsx","webpack:///./form.tsx","webpack:///external \"ajv\"","webpack:///./renderers/StringDefault.tsx","webpack:///./renderers/StringNotice.tsx","webpack:///./renderers/StringEnum.tsx","webpack:///./renderers/ArrayDefault.tsx","webpack:///./renderers/ArrayTuple.tsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","__webpack_exports__","BlinkformsClient","CompositeNode","SimpleNode","Node","ajv__WEBPACK_IMPORTED_MODULE_0__","ajv__WEBPACK_IMPORTED_MODULE_0___default","extendStatics","setPrototypeOf","__proto__","Array","b","__extends","__","this","constructor","NodeType","__assign","assign","arguments","length","__generator","thisArg","body","f","y","g","_","label","sent","trys","ops","next","verb","throw","return","iterator","v","op","TypeError","done","pop","push","e","step","handler","type","schemaNode","parentNode","config","resolver","state","tag","children","uid","uidGenerator","getHandler","isOutputAvailable","validateCustom","result_1","forEach","child","concat","getDebugRepresentation","output","toString","map","childText","split","line","index","repeat","join","getUID","onResolveFinished","modifyContext","fn","rootModifyContext","setContext","context","rootSetContext","resolve","resolveInitialState","resolveChildren","addChild","overrideChildren","slice","getChildren","resolveNode","node","getConfig","getSchema","getState","getTag","setTag","setParent","getRawOutput","options","onChildStateChanged","source","originalSource","setStateSilently","setState","findChild","filter","getOutput","enableFormat","formatOutput","__data","__source","setValue","RootNode","_super","dataTransformer","validator","_this","ROOT","validate","getData","render","getJsonSchema","compatID","Math","random","recParse","removeLabels","_jsonSchemaCompat","nullable","keys","schema","rootSetState","defaultParserConfig","handlers","default","STRING","OBJECT","NUMBER","BOOLEAN","ARRAY","rootState","uidGeneratorFactory","recTransformSchemaIntoTree","astNode","createNode","ui","getHandlerForUI","getHandlerForType","isNodeMetaOutputValue","data","getMetaOutputSourceNodeByPath","metaOutput","path","objPath","match","matcher","exec","from","x","undefined","recGetMetaOutputSourceNodeByPath","transformOutputToRawData","isArray","item","validateRoot","rootNode","_arguments","generator","ajv","validateSchema","errors","errorsMap","customErrors","_a","Ajv","allErrors","ajvOptions","compile","WeakMap","error","isNodeErrorPure","dataPath","err","has","set","getErrorsForNode","P","Promise","reject","fulfilled","rejected","result","then","apply","transformSchemaIntoTree","func","wait","immediate","timeout","conf","args","callNow","clearTimeout","setTimeout","tree","stateTransformers","contextUpdateHandlers","contextTransformers","rootConfig","configure","registerHandlers","newHandlers","handleFormStateUpdate","root","handleFormContextUpdate","handleFormContextMapping","getTree","renderComposite","initialState","getChildrenMapFromSchema","getValueMapFromValue","formatInput","getCompositeOutput","childrenMap","getInitialValue","renderSimple","originalModule","webpackPolyfill","LayoutMode","Wrapper","styled_components__WEBPACK_IMPORTED_MODULE_2___default","a","div","templateObject_1","tslib__WEBPACK_IMPORTED_MODULE_0__","TitleWrapper","templateObject_2","props","theme","primaryFont","DescriptionWrapper","templateObject_3","ContentWrapper","templateObject_4","TextWrapperInlineLabel","templateObject_5","ContentWrapperInlineLabel","templateObject_6","TitleExtraWrapper","templateObject_7","WithDescription","layout","parent","NORMAL","titleExtraNode","titleExtra","react__WEBPACK_IMPORTED_MODULE_1__","title","description","INLINE_LABEL","ErrorIcon","NoErrorIcon","IconWrapper","isVisible","Content","ErrorPopoverLabel","span","ErrorContainer","WithErrors","iconNode","message","WithMargins","_ObjectDefault__WEBPACK_IMPORTED_MODULE_0__","_StringDefault__WEBPACK_IMPORTED_MODULE_1__","notice","_StringNotice__WEBPACK_IMPORTED_MODULE_2__","enum","_StringEnum__WEBPACK_IMPORTED_MODULE_3__","_ArrayDefault__WEBPACK_IMPORTED_MODULE_4__","tuple","_ArrayTuple__WEBPACK_IMPORTED_MODULE_5__","ObjectDefault","properties","_blinkforms_core__WEBPACK_IMPORTED_MODULE_1__","Form","client","_blinkforms_core__WEBPACK_IMPORTED_MODULE_3__","use","handlerProvider","_renderers_defaultReactHandlerProvider__WEBPACK_IMPORTED_MODULE_4__","formContext","validateOnChange","createTree","validateOnInit","componentDidMount","onSubmit","style","marginLeft","onClick","InputWrapper","StringDefault","_utils_WithMargins__WEBPACK_IMPORTED_MODULE_5__","_utils_WithErrors__WEBPACK_IMPORTED_MODULE_4__","_utils_WithDescription__WEBPACK_IMPORTED_MODULE_3__","onChange","event","target","_blinkforms_core__WEBPACK_IMPORTED_MODULE_6__","StringNotice","_blinkforms_core__WEBPACK_IMPORTED_MODULE_2__","StringEnum","enumLabels","enumOpts","oLabel","oVal","lbSpec","find","opt","selectedValue","_utils_WithMargins__WEBPACK_IMPORTED_MODULE_4__","_utils_WithErrors__WEBPACK_IMPORTED_MODULE_3__","_utils_WithDescription__WEBPACK_IMPORTED_MODULE_2__","selected","_blinkforms_core__WEBPACK_IMPORTED_MODULE_5__","ArrayDefault","items","results","removeItem","newItems","addNewItem","ArrayTuple","sort"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","module.exports = require(\"react\");","module.exports = require(\"tslib\");","module.exports = require(\"react-hot-loader\");","module.exports = require(\"styled-components\");","import Ajv from 'ajv';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar NodeType;\r\n(function (NodeType) {\r\n    NodeType[\"STRING\"] = \"string\";\r\n    NodeType[\"NUMBER\"] = \"number\";\r\n    NodeType[\"BOOLEAN\"] = \"boolean\";\r\n    NodeType[\"OBJECT\"] = \"object\";\r\n    NodeType[\"ARRAY\"] = \"array\";\r\n    NodeType[\"ROOT\"] = \"root\";\r\n})(NodeType || (NodeType = {}));\r\nvar Node = /** @class */ (function () {\r\n    function Node(handler, type, schemaNode, parentNode, config, resolver) {\r\n        this.state = null;\r\n        this.tag = null;\r\n        this.schemaNode = schemaNode;\r\n        this.config = config;\r\n        this.resolver = resolver;\r\n        this.children = [];\r\n        this.type = type;\r\n        this.parentNode = parentNode;\r\n        this.uid = config.uidGenerator();\r\n    }\r\n    Node.prototype.getHandler = function () {\r\n        return this.handler;\r\n    };\r\n    Node.prototype.isOutputAvailable = function () {\r\n        return true;\r\n    };\r\n    Node.prototype.validateCustom = function () {\r\n        if (this.children.length === 0) {\r\n            return [];\r\n        }\r\n        else {\r\n            var result_1 = [];\r\n            this.children.forEach(function (child) {\r\n                result_1 = result_1.concat(child.validateCustom());\r\n            });\r\n            return result_1;\r\n        }\r\n    };\r\n    Node.prototype.getDebugRepresentation = function () {\r\n        var output = \"\";\r\n        var indent = 4;\r\n        var indentStr = \" \";\r\n        output += (this.type.toString());\r\n        if (this.tag) {\r\n            output += \"[\" + this.tag + \"]\";\r\n        }\r\n        if (this.children.length > 0) {\r\n            output += \" {\\n\";\r\n            this.children.map(function (child) {\r\n                var childText = child.getDebugRepresentation();\r\n                output += \"  > \";\r\n                output += childText.split(\"\\n\").map(function (line, index) {\r\n                    if (index === 0) {\r\n                        return line;\r\n                    }\r\n                    return indentStr.repeat(indent) + line;\r\n                }).join(\"\\n\");\r\n                output += \"\\n\";\r\n            });\r\n            output += \"}\";\r\n        }\r\n        return output;\r\n    };\r\n    Node.prototype.getUID = function () {\r\n        return this.uid;\r\n    };\r\n    Node.prototype.onResolveFinished = function () {\r\n        // No nothing\r\n    };\r\n    Node.prototype.modifyContext = function (fn) {\r\n        this.config.rootModifyContext(fn, this);\r\n    };\r\n    Node.prototype.setContext = function (context) {\r\n        this.config.rootSetContext(context, this);\r\n    };\r\n    Node.prototype.resolve = function () {\r\n        this.state = this.resolveInitialState() || null;\r\n        this.children = this.resolveChildren() || [];\r\n        this.onResolveFinished();\r\n    };\r\n    Node.prototype.addChild = function (child) {\r\n        this.children.push(child);\r\n    };\r\n    Node.prototype.overrideChildren = function (children) {\r\n        this.children = children.slice();\r\n    };\r\n    Node.prototype.getChildren = function () {\r\n        return this.children;\r\n    };\r\n    Node.prototype.resolveNode = function (node, parentNode, config) {\r\n        return this.resolver(node, parentNode, config);\r\n    };\r\n    Node.prototype.getConfig = function () {\r\n        return this.config;\r\n    };\r\n    Node.prototype.getSchema = function () {\r\n        return this.schemaNode;\r\n    };\r\n    Node.prototype.getState = function () {\r\n        return this.state;\r\n    };\r\n    Node.prototype.getTag = function () {\r\n        return this.tag;\r\n    };\r\n    Node.prototype.setTag = function (tag) {\r\n        this.tag = tag;\r\n    };\r\n    Node.prototype.setParent = function (parentNode) {\r\n        this.parentNode = parentNode;\r\n    };\r\n    Node.prototype.getRawOutput = function (options) {\r\n        return null;\r\n    };\r\n    Node.prototype.onChildStateChanged = function (state, source, originalSource) {\r\n        // Do nothing\r\n    };\r\n    Node.prototype.setStateSilently = function (state, source, originalSource) {\r\n        if (state) {\r\n            Object.assign(this.state, __assign({}, this.state, state));\r\n        }\r\n    };\r\n    Node.prototype.setState = function (state, source, originalSource) {\r\n        this.setStateSilently(state, source, originalSource);\r\n        this.parentNode.onChildStateChanged(this.state, this, originalSource);\r\n    };\r\n    Node.prototype.findChild = function (tag) {\r\n        return this.children.filter(function (child) { return child.tag === tag; })[0];\r\n    };\r\n    Node.prototype.resolveInitialState = function () {\r\n        return null;\r\n    };\r\n    Node.prototype.resolveChildren = function () {\r\n        return [];\r\n    };\r\n    Node.prototype.getOutput = function (options) {\r\n        if ((!options || (options && options.enableFormat !== false)) && this.getSchema().formatOutput) {\r\n            return {\r\n                __data: this.getSchema().formatOutput(this.getRawOutput(options)),\r\n                __source: this,\r\n            };\r\n        }\r\n        return {\r\n            __data: this.getRawOutput(options),\r\n            __source: this,\r\n        };\r\n    };\r\n    Node.prototype.setValue = function (value) {\r\n        // Do nothing\r\n    };\r\n    return Node;\r\n}());\r\nvar RootNode = /** @class */ (function (_super) {\r\n    __extends(RootNode, _super);\r\n    function RootNode(schemaNode, config, resolve, dataTransformer, validator) {\r\n        var _this = _super.call(this, null, NodeType.ROOT, schemaNode, null, config, resolve) || this;\r\n        _this.dataTransformer = dataTransformer;\r\n        _this.validator = validator;\r\n        return _this;\r\n    }\r\n    RootNode.prototype.resolveInitialState = function () {\r\n        return {};\r\n    };\r\n    RootNode.prototype.validate = function () {\r\n        this.validator(this);\r\n    };\r\n    RootNode.prototype.getOutput = function (options) {\r\n        if (this.getChildren().length === 0) {\r\n            return {\r\n                __data: null,\r\n                __source: this,\r\n            };\r\n        }\r\n        else if (this.getChildren().length === 1) {\r\n            return {\r\n                __data: this.getChildren()[0].getOutput(options),\r\n                __source: this,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                __data: this.getChildren().map(function (child) { return child.getOutput(options); }),\r\n                __source: this,\r\n            };\r\n        }\r\n    };\r\n    RootNode.prototype.getData = function (options) {\r\n        return this.dataTransformer(this.getOutput(options));\r\n    };\r\n    RootNode.prototype.render = function (context) {\r\n        return this.getChildren().map(function (child) { return child.render(context); });\r\n    };\r\n    RootNode.prototype.getTag = function () {\r\n        return \"root\";\r\n    };\r\n    RootNode.prototype.getJsonSchema = function () {\r\n        var compatID = \"id-\" + (Math.random() * 1000000000);\r\n        var recParse = function (node, removeLabels) {\r\n            if (!node || typeof node !== \"object\") {\r\n                return;\r\n            }\r\n            else if (!removeLabels && node._jsonSchemaCompat === compatID) {\r\n                return;\r\n            }\r\n            else if (removeLabels && !node._jsonSchemaCompat) {\r\n                return;\r\n            }\r\n            if (!removeLabels) {\r\n                node._jsonSchemaCompat = compatID;\r\n            }\r\n            else {\r\n                delete node._jsonSchemaCompat;\r\n            }\r\n            if (!removeLabels) {\r\n                if (node.nullable && node.type && typeof node.type !== \"object\") {\r\n                    node.type = [node.type, \"null\"];\r\n                }\r\n            }\r\n            Object.keys(node).forEach(function (key) {\r\n                if (key !== \"type\") {\r\n                    recParse(node[key], removeLabels);\r\n                }\r\n            });\r\n        };\r\n        var schema = this.getSchema();\r\n        recParse(schema, false);\r\n        recParse(schema, true);\r\n        return schema;\r\n    };\r\n    // FIXME: ROOT\r\n    RootNode.prototype.onChildStateChanged = function (state, source, originalSource) {\r\n        this.setState(state);\r\n    };\r\n    RootNode.prototype.setState = function (state, source, originalSource) {\r\n        this.setStateSilently(state, source, originalSource);\r\n        this.getConfig().rootSetState(this.getState(), this, originalSource);\r\n    };\r\n    RootNode.prototype.setValue = function (value) {\r\n        this.getChildren().forEach(function (child) { return child.setValue(value); });\r\n    };\r\n    return RootNode;\r\n}(Node));\r\nfunction isNodeErrorPure(error) {\r\n    return error.source !== undefined;\r\n}\n\nvar defaultParserConfig = {\r\n    handlers: {\r\n        ROOT: {\r\n            default: null,\r\n        },\r\n        STRING: {\r\n            default: null,\r\n        },\r\n        OBJECT: {\r\n            default: null,\r\n        },\r\n        NUMBER: {\r\n            default: null,\r\n        },\r\n        BOOLEAN: {\r\n            default: null,\r\n        },\r\n        ARRAY: {\r\n            default: null,\r\n        },\r\n    },\r\n    rootState: null,\r\n    rootSetState: function () { },\r\n    rootSetContext: function () { },\r\n    rootModifyContext: function () { },\r\n    uidGenerator: null,\r\n    uidGeneratorFactory: function () {\r\n        var uid = 0;\r\n        return function () {\r\n            ++uid;\r\n            return uid;\r\n        };\r\n    },\r\n};\n\nfunction getHandlerForUI(node, handlers) {\r\n    return node.ui ? handlers[node.ui] : handlers.default;\r\n}\r\nfunction getHandlerForType(node, config) {\r\n    var t = node.type;\r\n    switch (t) {\r\n        case NodeType.OBJECT:\r\n            return config.handlers.OBJECT;\r\n        case NodeType.STRING:\r\n            return config.handlers.STRING;\r\n        case NodeType.NUMBER:\r\n            return config.handlers.NUMBER;\r\n        case NodeType.BOOLEAN:\r\n            return config.handlers.BOOLEAN;\r\n        case NodeType.ARRAY:\r\n            return config.handlers.ARRAY;\r\n        case NodeType.ROOT:\r\n            return null;\r\n        default:\r\n            throw \"Unknown node type \" + node.type;\r\n            return null;\r\n    }\r\n}\r\nfunction createNode(node, parentNode, config, handler) {\r\n    var astNode = new handler(handler, node.type, node, parentNode, config, recTransformSchemaIntoTree);\r\n    astNode.resolve();\r\n    parentNode.addChild(astNode);\r\n    return astNode;\r\n}\r\nfunction recTransformSchemaIntoTree(node, parentNode, config) {\r\n    return createNode(node, parentNode, config, getHandlerForUI(node, getHandlerForType(node, config)));\r\n}\r\nfunction isNodeMetaOutputValue(data) {\r\n    return (data && (typeof data.__data) !== \"undefined\" && data.__source);\r\n}\r\nfunction recGetMetaOutputSourceNodeByPath(metaOutput, path) {\r\n    if (isNodeMetaOutputValue(metaOutput)) {\r\n        if (path !== null && path.length === 0) {\r\n            return metaOutput.__source;\r\n        }\r\n        else {\r\n            return recGetMetaOutputSourceNodeByPath(metaOutput.__data, path);\r\n        }\r\n    }\r\n    else if (path === null) {\r\n        return metaOutput;\r\n    }\r\n    else if (typeof path === \"string\") {\r\n        return recGetMetaOutputSourceNodeByPath(metaOutput, path.split(\".\"));\r\n    }\r\n    else if (path.length === 0) {\r\n        return recGetMetaOutputSourceNodeByPath(metaOutput, null);\r\n    }\r\n    else {\r\n        return recGetMetaOutputSourceNodeByPath(metaOutput[path[0]], path.slice(1));\r\n    }\r\n}\r\nfunction getMetaOutputSourceNodeByPath(metaOutput, path) {\r\n    var objPath = [];\r\n    for (var match = void 0, matcher = /^([^\\.\\[]+)|\\.([^\\.\\[]+)|\\[\"([^\"]+)\"\\]|\\[(\\d+)\\]/g; match = matcher.exec(path);) {\r\n        objPath.push(Array.from(match).slice(1).filter(function (x) { return x !== undefined; })[0]);\r\n    }\r\n    return recGetMetaOutputSourceNodeByPath(metaOutput, objPath);\r\n}\r\nfunction transformOutputToRawData(metaOutput) {\r\n    if (isNodeMetaOutputValue(metaOutput)) {\r\n        return transformOutputToRawData(metaOutput.__data);\r\n    }\r\n    else if (Array.isArray(metaOutput)) {\r\n        return metaOutput.map(function (item) { return transformOutputToRawData(item); });\r\n    }\r\n    else if (metaOutput instanceof Object) {\r\n        var result_1 = {};\r\n        Object.keys(metaOutput).forEach(function (key) {\r\n            result_1[key] = transformOutputToRawData(metaOutput[key]);\r\n        });\r\n        return result_1;\r\n    }\r\n    else {\r\n        return metaOutput;\r\n    }\r\n}\r\nfunction debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return function () {\r\n        var context = this, args = arguments;\r\n        var later = function () {\r\n            timeout = null;\r\n            if (!immediate)\r\n                func.apply(context, args);\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow)\r\n            func.apply(context, args);\r\n    };\r\n}\r\nfunction validateRoot(rootNode) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var ajv, validateSchema, output, data, errors, errorsMap, customErrors;\r\n        return __generator(this, function (_a) {\r\n            ajv = new Ajv(__assign({ allErrors: true }, rootNode.getConfig().ajvOptions));\r\n            validateSchema = ajv.compile(rootNode.getJsonSchema());\r\n            output = rootNode.getOutput({ enableFormat: false });\r\n            data = transformOutputToRawData(output);\r\n            validateSchema(data);\r\n            errors = validateSchema.errors || [];\r\n            errorsMap = new WeakMap();\r\n            customErrors = rootNode.validateCustom();\r\n            errors = errors.concat(customErrors);\r\n            errors.forEach(function (error) {\r\n                var source = null;\r\n                if (isNodeErrorPure(error)) {\r\n                    source = error.source;\r\n                }\r\n                else {\r\n                    source = getMetaOutputSourceNodeByPath(output, error.dataPath);\r\n                }\r\n                if (source !== null) {\r\n                    var err = error;\r\n                    if (errorsMap.has(source)) {\r\n                        errorsMap.get(source).push(err);\r\n                    }\r\n                    else {\r\n                        errorsMap.set(source, [err]);\r\n                    }\r\n                }\r\n            });\r\n            rootNode.setContext({\r\n                errors: errors || [],\r\n                getErrorsForNode: function (node) {\r\n                    return errorsMap.get(node) || [];\r\n                },\r\n            });\r\n            return [2 /*return*/];\r\n        });\r\n    });\r\n}\r\nfunction transformSchemaIntoTree(node, rootNode, config) {\r\n    if (rootNode === void 0) { rootNode = null; }\r\n    if (config === void 0) { config = null; }\r\n    var conf = __assign({}, defaultParserConfig, config);\r\n    if (!conf.uidGenerator) {\r\n        conf.uidGenerator = conf.uidGeneratorFactory();\r\n    }\r\n    if (!rootNode) {\r\n        rootNode = new RootNode(node, conf, recTransformSchemaIntoTree, transformOutputToRawData, debounce(validateRoot, 750));\r\n        rootNode.resolve();\r\n    }\r\n    recTransformSchemaIntoTree(node, rootNode, conf);\r\n    return rootNode;\r\n}\n\nvar BlinkformsClient = /** @class */ (function () {\r\n    function BlinkformsClient() {\r\n        this.tree = null;\r\n        this.state = null;\r\n        this.stateTransformers = [];\r\n        this.contextUpdateHandlers = [];\r\n        this.contextTransformers = [];\r\n        this.rootConfig = {};\r\n    }\r\n    BlinkformsClient.prototype.configure = function (conf) {\r\n        this.rootConfig = (__assign({}, this.rootConfig, conf));\r\n    };\r\n    BlinkformsClient.prototype.registerHandlers = function (handlers) {\r\n        var newHandlers = __assign({}, this.rootConfig.handlers);\r\n        Object.keys(handlers).forEach(function (key) {\r\n            newHandlers[key] = __assign({}, newHandlers[key], handlers[key]);\r\n        });\r\n        this.rootConfig = (__assign({}, this.rootConfig, { handlers: __assign({}, this.rootConfig.handlers, newHandlers) }));\r\n    };\r\n    BlinkformsClient.prototype.handleFormStateUpdate = function (state, root) {\r\n        var _this = this;\r\n        this.state = state;\r\n        this.stateTransformers.forEach(function (t) {\r\n            _this.state = t(_this.state, root);\r\n        });\r\n    };\r\n    BlinkformsClient.prototype.handleFormContextUpdate = function (context, source) {\r\n        this.contextUpdateHandlers.forEach(function (t) {\r\n            t(context, source);\r\n        });\r\n    };\r\n    BlinkformsClient.prototype.handleFormContextMapping = function (fn, source) {\r\n        this.contextTransformers.forEach(function (t) {\r\n            t(fn, source);\r\n        });\r\n    };\r\n    BlinkformsClient.prototype.render = function (schema, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = null; }\r\n        this.tree = transformSchemaIntoTree(schema, null, __assign({ rootSetState: function (state, root) { return _this.handleFormStateUpdate(state, root); }, rootSetContext: function (context, source) { return _this.handleFormContextUpdate(context, source); }, rootModifyContext: function (fn, source) { return _this.handleFormContextMapping(fn, source); }, rootState: {} }, this.rootConfig, options));\r\n        return this;\r\n    };\r\n    BlinkformsClient.prototype.getTree = function () {\r\n        return this.tree;\r\n    };\r\n    BlinkformsClient.prototype.getState = function () {\r\n        return this.state;\r\n    };\r\n    return BlinkformsClient;\r\n}());\n\nvar CompositeNode = /** @class */ (function (_super) {\r\n    __extends(CompositeNode, _super);\r\n    function CompositeNode() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CompositeNode.prototype.renderComposite = function (context, children) {\r\n        return Object.keys(children).map(function (key) { return children[key]; });\r\n    };\r\n    CompositeNode.prototype.resolveInitialState = function () {\r\n        var initialState = {};\r\n        Object.keys(this.getChildrenMapFromSchema()).forEach(function (key) {\r\n            initialState[key] = null;\r\n        });\r\n        return initialState;\r\n    };\r\n    CompositeNode.prototype.getValueMapFromValue = function (value) {\r\n        return __assign({}, value);\r\n    };\r\n    CompositeNode.prototype.setValue = function (value) {\r\n        var _this = this;\r\n        if (this.getSchema().formatInput) {\r\n            value = this.getSchema().formatInput(value);\r\n        }\r\n        value = this.getValueMapFromValue(value);\r\n        Object.keys(this.getChildrenMapFromSchema()).forEach(function (key) {\r\n            if (_this.findChild(key)) {\r\n                _this.findChild(key).setValue(value[key]);\r\n            }\r\n        });\r\n    };\r\n    CompositeNode.prototype.getRawOutput = function (options) {\r\n        var _this = this;\r\n        var output = {};\r\n        Object.keys(this.getChildrenMapFromSchema()).forEach(function (key) {\r\n            if (_this.findChild(key) && _this.findChild(key).isOutputAvailable()) {\r\n                output[key] = _this.findChild(key).getOutput(options);\r\n            }\r\n        });\r\n        return this.getCompositeOutput(output);\r\n    };\r\n    CompositeNode.prototype.onChildStateChanged = function (state, source, originalSource) {\r\n        var _a;\r\n        this.setState((_a = {},\r\n            _a[source.getTag()] = state,\r\n            _a));\r\n    };\r\n    CompositeNode.prototype.resolveChildren = function () {\r\n        var _this = this;\r\n        var childrenMap = this.getChildrenMapFromSchema();\r\n        return Object.keys(childrenMap).map(function (key) {\r\n            var child = _this.resolveNode(childrenMap[key], _this, _this.getConfig());\r\n            child.setTag(key);\r\n            return child;\r\n        });\r\n    };\r\n    CompositeNode.prototype.render = function (context) {\r\n        var _this = this;\r\n        var childrenMap = {};\r\n        Object.keys(this.getChildrenMapFromSchema()).forEach(function (key, index) {\r\n            if (_this.findChild(key)) {\r\n                childrenMap[key] = _this.findChild(key).render(context);\r\n            }\r\n        });\r\n        return this.renderComposite(context, childrenMap);\r\n    };\r\n    return CompositeNode;\r\n}(Node));\n\nvar SimpleNode = /** @class */ (function (_super) {\r\n    __extends(SimpleNode, _super);\r\n    function SimpleNode() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleNode.prototype.resolveInitialState = function () {\r\n        return {\r\n            value: this.getInitialValue(),\r\n        };\r\n    };\r\n    SimpleNode.prototype.getRawOutput = function () {\r\n        return this.getState().value;\r\n    };\r\n    SimpleNode.prototype.render = function (context) {\r\n        return this.renderSimple(this.getState().value, context);\r\n    };\r\n    return SimpleNode;\r\n}(Node));\n\nexport { BlinkformsClient, CompositeNode, SimpleNode, defaultParserConfig, recTransformSchemaIntoTree, isNodeMetaOutputValue, getMetaOutputSourceNodeByPath, transformOutputToRawData, validateRoot, transformSchemaIntoTree, NodeType, Node, RootNode, isNodeErrorPure };\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import * as React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n`;\n\nconst TitleWrapper = styled.div`\n  font-family: ${(props) => props.theme.primaryFont};\n  font-size: 1.4vw;\n  display: inline-block;\n`;\n\nconst DescriptionWrapper = styled.div`\n  font-family: ${(props) => props.theme.primaryFont};\n  font-size: 1vw;\n`;\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  margin-left: 1vw;\n`;\n\nconst TextWrapperInlineLabel = styled.div`\n  display: inline-block;\n  float: left;\n  width: 25%;\n`;\n\nconst ContentWrapperInlineLabel = styled.div`\n  margin-left: 1vw;\n  display: inline-block;\n  width: 70%;\n`;\n\nconst TitleExtraWrapper = styled.div`\n  display: inline-block;\n  margin-right: 1vw;\n`;\n\nexport interface WithDescriptionProps {\n    parent: any;\n    titleExtra?: any;\n}\n\nexport enum LayoutMode {\n    NORMAL = \"normal\",\n    INLINE_LABEL = \"inlineLabel\",\n}\n\nexport default class WithDescription extends React.Component<WithDescriptionProps, undefined> {\n    render() {\n\n        const layout = this.props.parent.getSchema().layout || LayoutMode.NORMAL;\n\n        const titleExtraNode = (this.props.titleExtra) ? (\n            <TitleExtraWrapper>\n                {this.props.titleExtra}\n            </TitleExtraWrapper>\n        ) : (null);\n\n        switch (layout) {\n            case LayoutMode.NORMAL: {\n                return (\n                    <Wrapper>\n                        <TitleWrapper>\n                            {titleExtraNode}\n                            {this.props.parent.getSchema().title}\n                        </TitleWrapper>\n                        <DescriptionWrapper>\n                            {this.props.parent.getSchema().description}\n                        </DescriptionWrapper>\n                        <ContentWrapper>\n                            {this.props.children}\n                        </ContentWrapper>\n                    </Wrapper>\n                );\n            }\n            case LayoutMode.INLINE_LABEL: {\n                return (\n                    <Wrapper>\n                        <TextWrapperInlineLabel>\n                            <TitleWrapper>\n                                {titleExtraNode}\n                                {this.props.parent.getSchema().title}\n                            </TitleWrapper>\n                            <DescriptionWrapper>\n                                {this.props.parent.getSchema().description}\n                            </DescriptionWrapper>\n                        </TextWrapperInlineLabel>\n                        <ContentWrapperInlineLabel>\n                            {this.props.children}\n                        </ContentWrapperInlineLabel>\n                    </Wrapper>\n                );\n            }\n            default: {\n                return this.props.children;\n            }\n        }\n    }\n}","import * as React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n    width: 100%;\n`;\n\nexport interface WithErrorsProps {\n    context: any;\n    parent: any;\n}\n\nconst ErrorIcon = styled.div`\n  display: inline-block;\n  height: 3vw;\n  margin-right: 1vw;\n  padding-right: 0.5vw;\n  padding-top: 0.7vw;\n  border-right: 0.15vw solid red;\n`;\n\nconst NoErrorIcon = styled.div`\n  display: inline-block;\n  height: 3vw;\n  margin-right: 1vw;\n  padding-right: 0.5vw;\n  padding-top: 0.7vw;\n  border-right: 0.15vw solid transparent;\n`;\n\ninterface IconWrapperProps {\n    theme: any;\n    isVisible: boolean;\n}\n\nconst IconWrapper = styled.div<IconWrapperProps>`\n  color: red;\n  opacity: ${(props) => ((props.isVisible) ? (1) : (0))};\n`;\n\nconst Content = styled.div`\n  display: inline-block;\n  width: 80%;\n`;\n\nconst ErrorPopoverLabel = styled.span`\n    margin-left: 0.3vw;\n    font-weight: bold;\n`;\n\nconst ErrorContainer = styled.div`\n    max-width: 10vw;\n`;\n\nexport default class WithErrors extends React.Component<WithErrorsProps, undefined> {\n    render() {\n        const errors = this.props.context.getErrorsForNode(this.props.parent) || [];\n        let iconNode = null;\n        \n        if (errors.length > 0) {\n            iconNode = (\n                <div>\n                    <ErrorContainer>\n                        <div>\n                            <ErrorPopoverLabel>\n                                Error!\n                            </ErrorPopoverLabel>\n                        </div>\n                        {errors[0].message}\n                    </ErrorContainer>\n                </div>\n            );\n        }\n\n        return (\n            <Wrapper>\n                {\n                    (errors.length === 0) ? (\n                        <NoErrorIcon>\n                            {iconNode}\n                        </NoErrorIcon>\n                    ) : (\n                        <ErrorIcon>\n                            {iconNode}\n                        </ErrorIcon>\n                    )\n                }\n                <Content>\n                    {this.props.children}\n                </Content>\n            </Wrapper>\n        );\n    }\n}","import * as React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n    margin-top: 1vw;\n    width: 100%;\n`;\n\nexport interface WithMarginsProps {\n    parent: any;\n}\n\nexport default class WithMargins extends React.Component<WithMarginsProps, undefined> {\n    render() {\n        return (\n            <Wrapper>\n                {this.props.children}\n            </Wrapper>\n        );\n    }\n}","import ObjectDefault from \"./ObjectDefault\";\n\nimport StringDefault from \"./StringDefault\";\nimport StringNotice from \"./StringNotice\";\nimport StringEnum from \"./StringEnum\";\n\nimport ArrayDefault from \"./ArrayDefault\";\nimport ArrayTuple from \"./ArrayTuple\";\n\nexport default {\n    ROOT: {\n        default: ObjectDefault,\n    },\n    STRING: {\n        default: StringDefault,\n        notice: StringNotice,\n        enum: StringEnum,\n    },\n    OBJECT: {\n        default: ObjectDefault,\n    },\n    ARRAY: {\n        default: ArrayDefault,\n        tuple: ArrayTuple,\n    },\n};","import { CompositeNode, NodeO } from \"@blinkforms/core\";\n\nimport {\n    NodeObjectSchema,\n} from \"@blinkforms/core\";\n\nexport default class ObjectDefault extends CompositeNode<NodeO, NodeObjectSchema> {\n\n    getChildrenMapFromSchema() {\n        return this.getSchema().properties;\n    }\n\n    getCompositeOutput(output: NodeO) {\n        return output;\n    }\n\n}","import * as React from \"react\";\nimport styled  from \"styled-components\";\n\nimport { BlinkformsClient } from \"@blinkforms/core\";\nimport { transformSchemaIntoTree } from \"@blinkforms/core\";\nimport { FormContext, NodeAny, NodeState, NodeType, RootNode, Schema } from \"@blinkforms/core\";\n\nimport defaultReactHandlerProvider from \"./renderers/defaultReactHandlerProvider\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n`;\n\nexport interface FormProps {\n    fontSize?: string;\n    theme?: any;\n    validateOnChange?: boolean;\n    validateOnInit?: boolean;\n    children: Schema;\n    onSubmit: (data: any) => void;\n    use?: Array<any>;\n}\n\ninterface FormState {\n    tree: RootNode;\n    formContext: FormContext;\n}\n\nexport class Form extends React.Component<FormProps, FormState> {\n\n    state: FormState;\n    client: BlinkformsClient;\n\n    constructor(props) {\n        super(props);\n\n        this.client = new BlinkformsClient();\n        this.client.configure({\n            rootSetState:       (state: NodeState<any>, root: RootNode) => this.handleFormStateUpdate(state, root),\n            rootSetContext:     (context: FormContext, source: NodeAny) => this.handleFormContextUpdate(context, source),\n            rootModifyContext:  (fn: (context: FormContext) => FormContext, source: NodeAny) => this.handleFormContextMapping(fn, source),\n            rootState:          {},\n        });\n        \n        if (this.props.use) {\n            this.props.use.forEach((handlerProvider) => {\n                this.client.registerHandlers(handlerProvider);\n            });\n        }\n        this.client.registerHandlers(defaultReactHandlerProvider);\n        \n        this.state = {\n            tree: null,\n            formContext: {\n                errors: [],\n                getErrorsForNode: () => [],\n            },\n        };\n    }\n\n    handleFormStateUpdate(state: NodeState<any>, root: RootNode) {\n        this.setState({\n            tree: root,\n        }, () => {\n            if (this.props.validateOnChange !== false) {\n                this.state.tree.validate();\n            }\n        });\n    }\n\n    handleFormContextUpdate(context: FormContext, source: NodeAny) {\n        this.setState({\n            formContext: {\n                ...this.state.formContext,\n                ...context,\n            },\n        });\n    }\n\n    handleFormContextMapping(fn: (context: FormContext) => FormContext, source: NodeAny) {\n        this.handleFormContextUpdate(fn(this.state.formContext), source);\n    }\n\n    createTree() {\n        const schema = this.props.children;\n\n        if (!this.state.tree) {\n            setTimeout(() => {\n                this.client.render(schema);\n                const tree = this.client.getTree();\n                this.setState({\n                    tree,\n                }, () => {\n                    if (this.props.validateOnInit !== false) {\n                        this.state.tree.validate();\n                    }\n                });\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.createTree();\n    }\n\n    render() {\n        this.createTree();\n\n        return (\n            <Wrapper>\n                {(this.state.tree) ? (this.state.tree.render(this.state.formContext)) : (null)}\n                {\n                    (this.state.tree && this.props.onSubmit)?(\n                        <div\n                            style={{\n                                marginLeft: '-2vw',\n                            }}\n                        >\n                            <button\n                                onClick={() => {\n                                    if (this.state.tree && this.props.onSubmit) {\n                                        this.props.onSubmit(this.state.tree.getData());\n                                    }\n                                }}\n                            >\n                                Save\n                            </button>\n                        </div>\n                    ):(null)\n                }\n            </Wrapper>\n        );\n    }\n}\n\n\n/*export default class Form extends React.Component<FormProps, FormState> {\n\n    state: FormState;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tree: null,\n            formContext: {\n                errors: [],\n                getErrorsForNode: () => [],\n            },\n        };\n    }\n\n    handleFormStateUpdate(state: NodeState<any>, root: RootNode) {\n        this.setState({\n            tree: root,\n        }, () => {\n            if (this.props.validateOnChange !== false) {\n                this.state.tree.validate();\n            }\n        });\n    }\n\n    handleFormContextUpdate(context: FormContext, source: NodeAny) {\n        this.setState({\n            formContext: {\n                ...this.state.formContext,\n                ...context,\n            },\n        });\n    }\n\n    handleFormContextMapping(fn: (context: FormContext) => FormContext, source: NodeAny) {\n        this.handleFormContextUpdate(fn(this.state.formContext), source);\n    }\n\n    createTree() {\n        const schema = this.props.children;\n\n        if (!this.state.tree) {\n            setTimeout(() => {\n                const tree = transformSchemaIntoTree(schema, null, {\n                    rootSetState: (state: NodeState<any>, root: RootNode) => this.handleFormStateUpdate(state, root),\n                    rootSetContext: (context: FormContext, source: NodeAny) => this.handleFormContextUpdate(context, source),\n                    rootModifyContext: (fn: (context: FormContext) => FormContext, source: NodeAny) => this.handleFormContextMapping(fn, source),\n                    rootState: {},\n                });\n\n                this.setState({\n                    tree,\n                }, () => {\n                    if (this.props.validateOnInit !== false) {\n                        this.state.tree.validate();\n                    }\n                });\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.createTree();\n    }\n\n    render() {\n        this.createTree();\n\n        return (\n            <Wrapper>\n                {(this.state.tree) ? (this.state.tree.render(this.state.formContext)) : (null)}\n                {\n                    (this.state.tree && this.props.onSubmit)?(\n                        <div\n                            style={{\n                                marginLeft: '-2vw',\n                            }}\n                        >\n                            <button\n                                onClick={() => {\n                                    if (this.state.tree && this.props.onSubmit) {\n                                        this.props.onSubmit(this.state.tree.getData());\n                                    }\n                                }}\n                            >\n                                Save\n                            </button>\n                        </div>\n                    ):(null)\n                }\n            </Wrapper>\n        );\n    }\n}*/\n","module.exports = require(\"ajv\");","import * as React from \"react\";\nimport styled from \"styled-components\";\n\nimport WithDescription from \"./utils/WithDescription\";\nimport WithErrors from \"./utils/WithErrors\";\nimport WithMargins from \"./utils/WithMargins\";\n\nimport { SimpleNode } from \"@blinkforms/core\";\n\nimport {\n    FormContext,\n    NodeStringSchema,\n} from \"@blinkforms/core\";\n\nconst InputWrapper = styled.div`\n  width: 10vw;\n  margin-right: 3vw;\n`;\n\nexport default class StringDefault extends SimpleNode<string, NodeStringSchema> {\n    getInitialValue() {\n        return \"\";\n    }\n\n    renderSimple(value: string, context: FormContext) {\n        return (\n            <WithMargins parent={this}>\n                <WithErrors parent={this} context={context}>\n                        <WithDescription parent={this}>\n                            <InputWrapper>\n                                <input\n                                    value={value}\n                                    onChange={(event) => {\n                                        this.setState({ value: event.target.value })\n                                    }}\n                                />\n                            </InputWrapper>\n                        </WithDescription>\n                </WithErrors>\n            </WithMargins>\n        );\n    }\n}","import * as React from \"react\";\n\nimport { SimpleNode } from \"@blinkforms/core\";\n\nimport {\n    FormContext,\n    NodeError,\n    NodeStringSchema,\n} from \"@blinkforms/core\";\n\nexport default class StringNotice extends SimpleNode<string, NodeStringSchema> {\n    getInitialValue() {\n        return \"null\";\n    }\n\n    isOutputAvailable(): boolean {\n        return false;\n    }\n\n    validateCustom(): Array<NodeError> {\n        return [];\n    }\n\n    renderSimple(value: string, context: FormContext) {\n        return (\n            <div>\n                {this.getSchema().value}\n            </div>\n        );\n    }\n}","import * as React from \"react\";\n\nimport WithDescription from \"./utils/WithDescription\";\nimport WithErrors from \"./utils/WithErrors\";\nimport WithMargins from \"./utils/WithMargins\";\n\nimport { SimpleNode } from \"@blinkforms/core\";\n\nimport {\n    FormContext,\n    NodeStringSchema,\n} from \"@blinkforms/core\";\n\nexport default class StringEnum extends SimpleNode<string, NodeStringSchema> {\n    getInitialValue() {\n        return \"\";\n    }\n\n    renderSimple(value: string, context: FormContext) {\n        const enumLabels = this.getSchema().enumLabels || null;\n        const enumOpts = (this.getSchema().enum || []).map(value => {\n            let oLabel = value;\n            let oVal = value;\n\n            if (enumLabels) {\n                const lbSpec = enumLabels.find(opt => opt.name === value);\n                if (lbSpec) {\n                    oLabel = lbSpec.label;\n                    oVal = lbSpec.name || value;\n                }\n            }\n\n            return ({\n                name: oVal,\n                label: oLabel,\n            });\n        });\n\n        const selectedValue = enumOpts.find(opt => opt.name === value) || null;\n        return (\n            <WithMargins parent={this}>\n                <WithErrors parent={this} context={context}>\n                    <WithDescription parent={this}>\n                        <select\n                            onChange={(event) => this.setState({ value: event.target.value })}\n                        >\n                            {enumOpts.map((item, index) => {\n                                return (\n                                    <option\n                                        key={`opt-${item.name+''}-${index}`}\n                                        value={item.name}\n                                        selected={selectedValue === item.name && item.name !== null && typeof item.name !== 'undefined'}\n                                    >\n                                        {item.label}\n                                    </option>\n                                );\n                            })}\n                        </select>\n                    </WithDescription>\n                </WithErrors>\n            </WithMargins>\n        );\n    }\n}","import * as React from \"react\";\n\nimport WithDescription from \"./utils/WithDescription\";\nimport WithErrors from \"./utils/WithErrors\";\nimport WithMargins from \"./utils/WithMargins\";\n\nimport {\n    FormContext,\n    Node,\n    NodeAny,\n    NodeArraySchema,\n    NodeOutputValue,\n    NodeState,\n} from \"@blinkforms/core\";\n\nexport type NodeSMapping = {\n    [key: string]: NodeState<any>;\n};\n\nexport type NodeO = NodeOutputValue<Array<NodeOutputValue<any>>>;\n\nexport type NodeS = {\n    items: NodeSMapping;\n};\n\nexport default class ArrayDefault extends Node<NodeS, NodeO, NodeArraySchema> {\n\n    resolveInitialState() {\n        return {\n            items: {},\n        };\n    }\n\n    setValue(value: NodeO) {\n        if (this.getSchema().formatInput) {\n            value = this.getSchema().formatInput(value);\n        }\n        value = { ...value };\n\n        if (Object.keys(value).length !== this.getChildren().length) {\n            this.overrideChildren(Object.keys(value).map(key => {\n                const child = this.resolveNode(this.getSchema().items, this, this.getConfig());\n                child.setTag(key);\n                return child;\n            }));\n        }\n\n        this.getChildren().forEach((child, index) => {\n            child.setValue(value[index]);\n        });\n    }\n\n    getRawOutput(options) {\n        const results = [];\n        this.getChildren().forEach(child => {\n            if (child.isOutputAvailable()) {\n                results.push(child.getOutput(options));\n            }\n        });\n        return results;\n    }\n\n    onChildStateChanged(state: NodeState<any>, source: NodeAny, originalSource?: NodeAny) {\n        this.setState({\n            items: {\n                ...this.getState().items,\n                [source.getTag()]: state,\n            },\n        });\n    }\n\n    removeItem(index: number) {\n        const newItems = { ...this.getState().items };\n        delete newItems[index];\n\n        this.overrideChildren(this.getChildren().filter((child, i) => index !== i).map((child, i) => {\n            child.setTag(i.toString());\n            return child;\n        }));\n\n        this.setState({\n            items: newItems,\n        });\n    }\n\n    addNewItem() {\n        const key = this.getChildren().length;\n\n        const child = this.resolveNode(this.getSchema().items, this, this.getConfig());\n        this.setState({\n            items: {\n                ...this.getState().items,\n                [key]: child.resolveInitialState(),\n            },\n        });\n    }\n\n    resolveChildren() {\n        return [];\n    }\n\n    render(context: FormContext): React.ReactNode {\n        return (\n            <WithMargins parent={this}>\n                <WithErrors parent={this} context={context}>\n                    <WithDescription\n                        parent={this}\n                        titleExtra={\n                            <div>\n                                <button onClick={() => this.addNewItem()}>Add item</button>\n                            </div>\n                        }\n                    >\n                        {\n                            this.getChildren().map((child, index) => {\n                                return (\n                                    <div>\n                                        <div>\n                                            <button onClick={() => this.removeItem(index)}>X</button>\n                                        </div>\n                                        {child.render(context)}\n                                    </div>\n                                );\n                            })\n                        }\n                    </WithDescription>\n                </WithErrors>\n            </WithMargins>\n        );\n    }\n\n}","import * as React from \"react\";\n\nimport { ChildrenMap, CompositeNode, NodeO } from \"@blinkforms/core\";\n\nimport WithDescription from \"./utils/WithDescription\";\nimport WithErrors from \"./utils/WithErrors\";\nimport WithMargins from \"./utils/WithMargins\";\n\nimport {\n    FormContext,\n    NodeOutputValue,\n    NodeSchema,\n} from \"@blinkforms/core\";\n\nexport default class ArrayTuple<O, M extends NodeSchema> extends CompositeNode<Array<O>, M> {\n\n    getChildrenMapFromSchema() {\n        return { ...this.getSchema().items };\n    }\n\n    setValue(value: NodeOutputValue<Array<O>>) {\n        if (this.getSchema().formatInput) {\n            value = this.getSchema().formatInput(value);\n        }\n        value = this.getValueMapFromValue(value);\n\n        Object.keys(this.getChildrenMapFromSchema()).forEach(key => {\n            if (this.findChild(key)) {\n                this.findChild(key).setValue(value[key]);\n            }\n        });\n    }\n\n    getCompositeOutput(output: NodeO) {\n        const items = [];\n        Object.keys(output).sort().forEach(key => items.push(output[key]));\n\n        return items;\n    }\n\n    renderComposite(context: FormContext, children: ChildrenMap<React.ReactNode>): React.ReactNode {\n        return (\n            <WithMargins parent={this}>\n                <WithErrors parent={this} context={context}>\n                    <WithDescription parent={this}>\n                        {Object.keys(children).map(key => children[key])}\n                    </WithDescription>\n                </WithErrors>\n            </WithMargins>\n        );\n    }\n\n}"],"sourceRoot":""}